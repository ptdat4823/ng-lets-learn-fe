<div class="tab-overdue">
  <app-collapsible-list>    
    <!-- This week section -->
    <app-collapsible-section sectionId="this-week">
      <div title class="section-title-wrapper">
        <h2>This week</h2>
        <span class="item-count">{{ getSectionCount('this-week') }}</span>
      </div>
      <div content class="section-content">        
        @for (item of getSectionItems('this-week'); track item.id) {
          <div class="review-item" (click)="navigateToItem(item)">
            <div class="item-icon">
              @if (item.type === 'assignment') {
                <span class="material-symbols-outlined assignment-icon">upload_file</span>
              } @else if (item.type === 'quiz') {
                <span class="material-symbols-outlined quiz-icon">checklist</span>
              }
            </div>
            <div class="item-details">
              <h3 class="item-title">{{ item.title }}</h3>
              <div class="item-info">
                <div class="course-name">{{ item.course }}</div>                
                <div class="due-date">
                  <span class="due-text">{{ item.dueDateFormatted }}</span>                  
                  <span class="due-status missing">(Missing)</span>
                </div>
              </div>
            </div>
          </div>
        } @empty {
          <div class="empty-state">
            <p>No overdue items from this week</p>
          </div>
        }
      </div>
    </app-collapsible-section>
    
    <!-- Last week section -->
    <app-collapsible-section sectionId="last-week">
      <div title class="section-title-wrapper">
        <h2>Last week</h2>
        <span class="item-count">{{ getSectionCount('last-week') }}</span>
      </div>
      <div content class="section-content">        
        @for (item of getSectionItems('last-week'); track item.id) {
          <div class="review-item" (click)="navigateToItem(item)">
            <div class="item-icon">
              @if (item.type === 'assignment') {
                <span class="material-symbols-outlined assignment-icon">upload_file</span>
              } @else if (item.type === 'quiz') {
                <span class="material-symbols-outlined quiz-icon">checklist</span>
              }
            </div>
            <div class="item-details">
              <h3 class="item-title">{{ item.title }}</h3>
              <div class="item-info">
                <div class="course-name">{{ item.course }}</div>                
                <div class="due-date">
                  <span class="due-text">{{ item.dueDateFormatted }}</span>                  
                  <span class="due-status missing">(Missing)</span>
                </div>
              </div>
            </div>
          </div>
        } @empty {
          <div class="empty-state">
            <p>No overdue items from last week</p>
          </div>
        }
      </div>
    </app-collapsible-section>
    
    <!-- Sooner section -->
    <app-collapsible-section sectionId="sooner">
      <div title class="section-title-wrapper">
        <h2>Sooner</h2>
        <span class="item-count">{{ getSectionCount('sooner') }}</span>
      </div>
      <div content class="section-content">        
        @for (item of getSectionItems('sooner'); track item.id) {
          <div class="review-item" (click)="navigateToItem(item)">
            <div class="item-icon">
              @if (item.type === 'assignment') {
                <span class="material-symbols-outlined assignment-icon">upload_file</span>
              } @else if (item.type === 'quiz') {
                <span class="material-symbols-outlined quiz-icon">checklist</span>
              }
            </div>
            <div class="item-details">
              <h3 class="item-title">{{ item.title }}</h3>
              <div class="item-info">
                <div class="course-name">{{ item.course }}</div>                
                <div class="due-date">
                  <span class="due-text">{{ item.dueDateFormatted }}</span>                  
                  <span class="due-status missing">(Missing)</span>
                </div>
              </div>
            </div>
          </div>
        } @empty {
          <div class="empty-state">
            <p>No items overdue from earlier</p>
          </div>
        }
      </div>
    </app-collapsible-section>

  </app-collapsible-list>
</div>
